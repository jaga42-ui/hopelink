import{r as l,A as f,u as j,j as e,w as v,x as N,L as h,f as y,y as k,z as a}from"./index-BWa_XzmO.js";import{a as u}from"./api-Dehz_W2t.js";const z=()=>{const[r,p]=l.useState(""),[i,b]=l.useState(""),[n,c]=l.useState(!1),{login:d}=l.useContext(f),x=j(),g=async s=>{s.preventDefault(),c(!0);try{const{data:t}=await u.post("/auth/login",{email:r,password:i});d(t),a.success(`Welcome back, ${t.name}!`),x("/dashboard")}catch(t){a.error(t.response?.data?.message||"Invalid email or password")}finally{c(!1)}},w=()=>{if(!window.google)return a.error("Google secure login is still loading. Please try again in a second.");window.google.accounts.oauth2.initCodeClient({client_id:"400969745528-s5e5huqfh83jtj46dc6tf5cf1o76brcu.apps.googleusercontent.com",scope:"email profile",ux_mode:"popup",callback:async t=>{if(t.code){const m=a.loading("Verifying Identity...");try{const{data:o}=await u.post("/auth/google",{code:t.code});d(o),a.success(`Welcome back, ${o.name}!`,{id:m}),x("/dashboard")}catch(o){a.error(o.response?.data?.message||"Google Login Failed",{id:m})}}}}).requestCode()};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-gradient p-4 selection:bg-white selection:text-teal-700",children:e.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/20 p-6 sm:p-8 rounded-3xl shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-white/20 rounded-full blur-[50px] pointer-events-none"}),e.jsxs("div",{className:"text-center mb-8 relative z-10",children:[e.jsxs("h1",{className:"text-4xl font-black text-white italic tracking-tighter mb-2 drop-shadow-md",children:["HOPE",e.jsx("span",{className:"text-teal-400",children:"LINK."})]}),e.jsx("p",{className:"text-white/80 font-medium mt-2",children:"Welcome back to the community."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-5 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-white text-sm font-extrabold mb-2 flex items-center gap-2 drop-shadow-sm",children:[e.jsx(v,{className:"text-teal-300"})," Email Address"]}),e.jsx("input",{type:"email",value:r,onChange:s=>p(s.target.value),required:!0,className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:ring-2 focus:ring-teal-500/50 outline-none transition-all shadow-inner",placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-white text-sm font-extrabold flex items-center gap-2 drop-shadow-sm",children:[e.jsx(N,{className:"text-teal-300"})," Password"]}),e.jsx(h,{to:"/forgotpassword",className:"text-xs text-teal-300 hover:text-white font-bold transition-colors",children:"Forgot Password?"})]}),e.jsx("input",{type:"password",value:i,onChange:s=>b(s.target.value),required:!0,className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:ring-2 focus:ring-teal-500/50 outline-none transition-all shadow-inner",placeholder:"••••••••"})]}),e.jsx("button",{disabled:n,className:"w-full mt-4 bg-teal-500 hover:bg-teal-400 text-white font-black uppercase tracking-widest py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(20,184,166,0.3)] active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50",children:n?e.jsx(y,{className:"animate-spin text-xl"}):"Log In to Network"})]}),e.jsxs("div",{className:"relative z-10 mt-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"flex-1 border-t border-white/10"}),e.jsx("span",{className:"px-4 text-white/40 text-[10px] font-black uppercase tracking-widest",children:"Or"}),e.jsx("div",{className:"flex-1 border-t border-white/10"})]}),e.jsxs("button",{onClick:w,type:"button",className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-3 backdrop-blur-sm",children:[e.jsx(k,{className:"text-red-400 text-lg"})," Continue with Google"]})]}),e.jsx("div",{className:"mt-8 text-center relative z-10",children:e.jsxs("p",{className:"text-white/80 font-medium",children:["New to HopeLink?"," ",e.jsx(h,{to:"/register",className:"text-teal-300 hover:text-white font-black ml-1 transition-colors hover:underline",children:"Create an account"})]})})]})})};export{z as default};
